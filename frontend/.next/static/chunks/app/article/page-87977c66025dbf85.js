(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[559],{7501:(e,t,s)=>{Promise.resolve().then(s.bind(s,5297))},8217:(e,t,s)=>{"use strict";s.d(t,{u:()=>r});let r=s(2651).A.create({baseURL:"http://localhost:8000/api"})},5297:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5155);s(2115);var l=s(9606),a=s(3415);let o=a.z.object({title:a.z.string().min(1,"Title is required"),content:a.z.string().min(10,"Content is required"),category:a.z.string().min(3,"Category is required"),author:a.z.string().min(1,"Author is required")});var n=s(2679),i=s(5848),c=s(8217);let u=()=>(0,i.n)({mutationFn:async e=>(await c.u.post("/articles/",e,{headers:{"Content-Type":"application/json"}})).data,onSuccess:e=>{console.log("Article successfully uploaded:",e)},onError:e=>{console.error("Error uploading article:",e.message)}});var d=s(2110);let m={position:"bottom-right",autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0},x=(e,t)=>{switch(t){case"success":d.oR.success(e,m);break;case"error":d.oR.error(e,m);break;case"info":d.oR.info(e,m);break;default:(0,d.oR)(e,m)}};var h=s(6046);let p=()=>{let e=(0,h.useRouter)(),{register:t,handleSubmit:s,formState:{errors:a},reset:i}=(0,l.mN)({resolver:(0,n.u)(o)}),{mutateAsync:c,isPending:d,error:m}=u(),p=async t=>{try{await c(t),x("Article submitted successfully","success"),e.push("/manage-articles"),i()}catch(e){console.error("Submission error:",e)}};return(0,r.jsxs)("div",{className:"w-full max-w-2xl shadow-lg rounded-lg p-8",children:[(0,r.jsx)("h2",{className:"text-center text-4xl font-bold text-gray-800 mb-6",children:"\uD83D\uDCDD Submit an Article"}),(0,r.jsxs)("form",{onSubmit:s(p),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label font-semibold text-gray-700",children:"Title"}),(0,r.jsx)("input",{...t("title"),type:"text",placeholder:"Enter article title...",className:"input input-bordered w-full px-4 py-3 rounded-md focus:ring-2 focus:ring-blue-500 transition-all duration-200"}),a.title&&(0,r.jsx)("p",{className:"text-red-500",children:a.title.message})]}),(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label font-semibold text-gray-700",children:"Content"}),(0,r.jsx)("textarea",{...t("content"),placeholder:"Write your article here...",className:"textarea textarea-bordered w-full px-4 py-3 rounded-md focus:ring-2 focus:ring-blue-500 transition-all duration-200",rows:6}),a.content&&(0,r.jsx)("p",{className:"text-red-500",children:a.content.message})]}),(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label font-semibold text-gray-700",children:"Category"}),(0,r.jsxs)("select",{...t("category"),name:"category",className:"select select-bordered w-full px-4 py-3 rounded-md focus:ring-2 focus:ring-blue-500 transition-all duration-200",children:[(0,r.jsx)("option",{value:"",children:"Select a Category"}),(0,r.jsx)("option",{value:"Technology",children:"Technology"}),(0,r.jsx)("option",{value:"Science",children:"Science"}),(0,r.jsx)("option",{value:"Books",children:"Books"}),(0,r.jsx)("option",{value:"Lifestyle",children:"Lifestyle"})]}),a.category&&(0,r.jsx)("p",{className:"text-red-500",children:a.category.message})]}),(0,r.jsxs)("div",{className:"form-control",children:[(0,r.jsx)("label",{className:"label font-semibold text-gray-700",children:"Author"}),(0,r.jsx)("input",{...t("author"),type:"text",placeholder:"Enter your name...",className:"input input-bordered w-full px-4 py-3 rounded-md focus:ring-2 focus:ring-blue-500 transition-all duration-200"}),a.author&&(0,r.jsx)("p",{className:"text-red-500",children:a.author.message})]}),(0,r.jsx)("div",{className:"form-control mt-4",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary w-full text-lg px-6 py-3 rounded-md transition-all duration-200 hover:bg-blue-600 focus:ring-2 focus:ring-blue-400",children:d?"\uD83D\uDE80 Publish...":"\uD83D\uDE80 Publish Article"})}),m&&(0,r.jsx)("p",{className:"text-red-500 text-center mt-2",children:m.message})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[306,712,110,471,441,517,358],()=>t(7501)),_N_E=e.O()}]);